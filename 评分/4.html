<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>五角星评分案例</title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    .comment {
      font-size: 40px;
      color: red;
    }

    .comment li {
      float: left;
      cursor: pointer;
    }

    ul {
      list-style: none;
    }
  </style>
</head>

<body>

  <ul class="comment">
    <li>☆</li>
    <li>☆</li>
    <li>☆</li>
    <li>☆</li>
    <li>☆</li>
  </ul>

</body>
<script src="../jquery-2.2.2.js"></script>
<script>
  /*
    效果：
      1.鼠标移入，鼠标在哪个星星上面，当前的星星和之前的星星都是实心
      2.鼠标移出，分数回归原来的分数 - 之前有一个分数，鼠标移出，之前的分数和左边都是实心的
      3.鼠标点击，修改分数
  */
  /*
    效果1的思路：
      1. 获取元素
      2. 注册鼠标移入事件
      3. 遍历从第一个开始，到当前结束，都变成实心的，把当前之后的变成空心的
  */
    //入口函数
    $(()=> {
        //先获取到所有的星星
        let lis = $('.comment>li');
        //然后注册鼠标移入事件
        lis.on('mouseover',function(){
            //先获取鼠标移入的索引
            let index = $(this).index();
            //然后循环
            lis.each((i,e)=>{
                //判断当前鼠标的索引值是否大于索引，否则的话空心
                if(i <= index){
                    lis.eq(i).text('★');
                }else{
                    lis.eq(i).text('☆');
                }
            })
        })
        //先声明一个变量，表示鼠标的位置
        let setec = 0;
        //效果2 鼠标移出事件
        lis.on('mouseout',function(){
            //直接循环判断
            lis.each((i,e)=> {
                //判断如果鼠标移入的索引大于i，那么就是实心的星星，否则空心
                if(i < setec){
                    lis.eq(i).text('★');
                }else {
                    lis.eq(i).text('☆');
                }
            })
        })
        //效果3 鼠标点击事件
        lis.on('click',function(){
            //为什么要加1
            //因为索引的话是从0开始的，所以要加1让它和星星同步
            setec = $(this).index() +1;
        })
    });
</script>
</html>